# Content Security Policy - Enforcing mode
# This file is included in nginx.conf at both server and location block levels
# to work around nginx's add_header inheritance behavior
add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'sha256-fyQJ2IC5tSE4gzlbp8JZmF2+fCi1CZLDmx84Ogi7VxQ=' https://www.gstatic.com https://vimeo.com https://*.vimeo.com https://*.vimeocdn.com https://*.8x8.vc https://*.jitsi.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https://api.dicebear.com https://avatars.atria.gg https://storage.sbtl.dev https://vimeo.com https://*.vimeo.com https://*.vimeocdn.com https:; connect-src 'self' wss://atria.gg https://storage.sbtl.dev https://stream.mux.com https://*.mux.com https://inferred.litix.io https://vimeo.com https://*.vimeo.com https://*.vimeocdn.com https://*.8x8.vc https://*.jitsi.net; frame-src 'self' https://vimeo.com https://*.vimeo.com https://*.8x8.vc https://*.jitsi.net; media-src blob: https://stream.mux.com https://*.mux.com https://vod-progressive.akamaized.net https://gcs-vimeo.akamaized.net https://vimeo.com https://*.vimeo.com https://*.vimeocdn.com https://*.8x8.vc https://*.jitsi.net; worker-src 'self' blob:; child-src 'self' blob: https://vimeo.com https://*.vimeo.com https://*.8x8.vc https://*.jitsi.net; frame-ancestors 'none'; base-uri 'self'; form-action 'self';" always;
