# Content Security Policy - Enforcing mode
# This file is included in nginx.conf at both server and location block levels
# to work around nginx's add_header inheritance behavior
add_header Content-Security-Policy "default-src 'self'; script-src 'self' https://vimeo.com https://*.vimeo.com https://*.vimeocdn.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https://api.dicebear.com https://storage.sbtl.dev https://vimeo.com https://*.vimeo.com https://*.vimeocdn.com https:; connect-src 'self' wss://atria.gg https://storage.sbtl.dev https://vimeo.com https://*.vimeo.com https://*.vimeocdn.com; frame-src 'self' https://vimeo.com https://*.vimeo.com; media-src https://vod-progressive.akamaized.net https://gcs-vimeo.akamaized.net https://vimeo.com https://*.vimeo.com https://*.vimeocdn.com; worker-src 'self' blob:; child-src 'self' blob: https://vimeo.com https://*.vimeo.com; frame-ancestors 'none'; base-uri 'self'; form-action 'self';" always;
