# =============================================================================
# ATRIA ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env.development for local development
# Update values as needed for your environment

# =============================================================================
# DATABASE CONFIGURATION (Required)
# =============================================================================
POSTGRES_USER=atria_user
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=atria_dev
POSTGRES_PORT=5432

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Backend API Port
BACKEND_PORT=5000

# Frontend Development Server Port
FRONTEND_PORT=5173

# Frontend API URL (used by Vite dev server)
# For local development: http://localhost:5000/api
# For production: https://your-domain.com/api
VITE_API_URL=http://localhost:5000/api

# =============================================================================
# SECURITY & AUTHENTICATION (Required for Production)
# =============================================================================
# Secret keys for Flask and JWT (CHANGE IN PRODUCTION!)
SECRET_KEY=change-this-secret-key-in-production
JWT_SECRET_KEY=change-this-jwt-secret-in-production

# JWT Token Expiration (in seconds)
JWT_ACCESS_TOKEN_EXPIRES=3600          # 1 hour
JWT_REFRESH_TOKEN_EXPIRES=2592000      # 30 days

# =============================================================================
# FILE STORAGE - MinIO/S3 Configuration (Required)
# =============================================================================
# MinIO is required for file uploads (avatars, event logos, sponsor logos, etc.)
# You can use MinIO (self-hosted) or AWS S3 (cloud-hosted)

# MinIO Endpoint (internal cluster address or external URL)
# Development: localhost:9000
# Production K8s: minio-api.infrastructure.svc.cluster.local:9000
# Production External: storage.your-domain.com
MINIO_ENDPOINT=localhost:9000

# MinIO Access Credentials
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# Use SSL/TLS for MinIO connection
MINIO_USE_SSL=false

# External URL for presigned URLs (what browsers will use)
# Must match MINIO_ENDPOINT for signature validation
MINIO_EXTERNAL_URL=https://storage.sbtl.dev

# Optional: Custom bucket names (defaults shown)
# MINIO_BUCKET_PUBLIC=atria-public
# MINIO_BUCKET_AUTHENTICATED=atria-authenticated
# MINIO_BUCKET_PRIVATE=atria-private

# =============================================================================
# EMAIL CONFIGURATION (Optional but recommended)
# =============================================================================
# Required for sending invitation emails and transactional notifications
# Sign up for free tier at https://www.smtp2go.com/

SMTP2GO_API_KEY=your_smtp2go_api_key_here
MAIL_DEFAULT_SENDER=noreply@your-domain.com
FRONTEND_URL=https://your-domain.com

# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================
# Redis provides caching, presence tracking, typing indicators, and Socket.IO clustering
# The application works without Redis (graceful degradation) but with reduced features
# Production deployments should use Redis for optimal performance

# Redis Connection URL
# Format: redis://host:port/db_number
# Leave empty/commented for in-memory mode (dev only)
# REDIS_URL=redis://localhost:6379/0

# Socket.IO Redis adapter (enables multi-instance scaling)
# Uses DB 1 for pub/sub clustering
# SOCKETIO_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# SOCKET.IO / REAL-TIME FEATURES
# =============================================================================
# Force HTTP long-polling instead of WebSocket (testing/debugging only)
# VITE_FORCE_HTTP_FALLBACK=true

# =============================================================================
# DATABASE SEEDING (Development Only)
# =============================================================================
# Automatically seed the database with sample data on startup
SEED_DB=true

# =============================================================================
# DEVELOPMENT FLAGS (Optional)
# =============================================================================
# Enable SQL query logging for debugging
# SQLALCHEMY_ECHO=true

# Enable Celery background tasks (not currently used, future feature)
# USE_CELERY=false
